
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="LogicNG">
      
      
        <meta name="author" content="BooleWorks GmbH">
      
      
        <link rel="canonical" href="https://www.logicng.org/documentation/formula-factory/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../formulas/">
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31+insiders-4.53.12">
    
    
      
        <title>The Formula Factory - The Next Generation Logic Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.dad623df.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="The Formula Factory - The Next Generation Logic Framework" />
<meta property="og:description" content="LogicNG" />
<meta property="og:image" content="https://www.logicng.org/assets/images/social/documentation/formula-factory.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://www.logicng.org/documentation/formula-factory/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="The Formula Factory - The Next Generation Logic Framework" />
<meta property="twitter:description" content="LogicNG" />
<meta property="twitter:image" content="https://www.logicng.org/assets/images/social/documentation/formula-factory.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-formulas-with-a-formula-factory" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
<a href="https://github.com/logic-ng/LogicNG/releases/tag/v2.4.0">LogicNG 2.4.0</a> released.

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The Next Generation Logic Framework" class="md-header__button md-logo" aria-label="The Next Generation Logic Framework" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Next Generation Logic Framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Formula Factory
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/logic-ng/LogicNG" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    logic-ng/LogicNG
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorial/" class="md-tabs__link">
          
  
    
  
  Tutorial

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../whitepaper/abstract/" class="md-tabs__link">
          
  
    
  
  White Paper

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../legal/privacy/" class="md-tabs__link">
          
  
    
  
  Legal

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Next Generation Logic Framework" class="md-nav__button md-logo" aria-label="The Next Generation Logic Framework" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    The Next Generation Logic Framework
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/logic-ng/LogicNG" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    logic-ng/LogicNG
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Tutorial
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/chapter1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 1 Problem Modelling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/chapter2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 2 Formulas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/chapter3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 3 Formula Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/chapter4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 4 Propositions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/chapter5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 5 SAT Solving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/chapter6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 6 MaxSAT Solving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    The Formula Factory
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    The Formula Factory
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-formulas-with-a-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Formulas with a Formula Factory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring the Formula Factory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-further-aspects-of-logicng-in-the-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Further Aspects of LogicNG in the Formula Factory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-methods-on-formula-factories" class="md-nav__link">
    <span class="md-ellipsis">
      
        More Methods on Formula Factories
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#caching-formulas-in-practice-and-the-extended-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Caching Formulas in Practice and the Extended Formula Factory
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../formulas/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Formulas
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Formulas
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formulas/cardinality-constraints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Cardinality Constraints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formulas/pb-constraints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Pseudo-Boolean Constraints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../formulas/operations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Formula Operations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Formula Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formulas/operations/formula-functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Formula Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formulas/operations/formula-predicates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Formula Predicates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../formulas/operations/transformations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Formula Transformations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4_4" id="__nav_3_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Formula Transformations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formulas/operations/transformations/normal-form-transformations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Normal Form Transformations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formulas/operations/transformations/simplifier-transformations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Simplifier Transformations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formulas/operations/transformations/other-transformations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Other Transformations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../propositions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Propositions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../solvers/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Solvers
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Solvers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solvers/sat-solving/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    SAT Solving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solvers/maxsat-solving/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    MaxSAT Solving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../knowledge-compilation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Knowledge Compilation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Knowledge Compilation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../knowledge-compilation/bdd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    BDD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../knowledge-compilation/dnnf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    DNNF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backbones/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Backbones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model-counting-enumeration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Model Counting and Enumeration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../explanations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Explanations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Explanations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../explanations/unsat-cores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Unsat Cores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../explanations/mus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    MUS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../explanations/smus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Smallest MUS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../handlers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Handlers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    White Paper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    White Paper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/abstract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Solving Configuration Problems with LogicNG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    The Problem
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    The Problem
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/problem/mass-customization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Mass Customization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/problem/common-configuration-problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Common Configuration Problems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    The Solutions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    The Solutions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/general-approach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    The General Approach
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/testing-vs-reasoning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Manual Testing vs. Automated Reasoning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/computation-vs-compilation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    On-the-fly Computation vs. Compilation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/decision-vs-optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Decision Problems vs. Optimization Problems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Real Solutions for Real Problems
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Real Solutions for Real Problems
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../whitepaper/real-solutions/use-cases/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Today's Use Cases
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_1" id="__nav_4_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Today's Use Cases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/high-level-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    High-Level Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/ordering-process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Ordering Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/bill-of-materials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Bill of Materials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/homologation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Homologation Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/ecu-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    ECU Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/software-world/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Towards a Software-Definied World
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    References
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Archive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Archive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    2022
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Legal
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Legal
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/privacy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Privacy Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/corporate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Corporate Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-formulas-with-a-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Formulas with a Formula Factory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring the Formula Factory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-further-aspects-of-logicng-in-the-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring Further Aspects of LogicNG in the Formula Factory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-methods-on-formula-factories" class="md-nav__link">
    <span class="md-ellipsis">
      
        More Methods on Formula Factories
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#caching-formulas-in-practice-and-the-extended-formula-factory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Caching Formulas in Practice and the Extended Formula Factory
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>The Formula Factory</h1>

<p>The formula factory is the central concept of LogicNG and is always required when working with LogicNG.  A formula factory is an object consisting of two major components:</p>
<p>A <em>factory</em>, which creates formulas, and a <em>container</em>, which stores created formulas.</p>
<p>The <em>container function</em> is 'smart': A formula factory guarantees that syntactically equivalent formulas are created only once.  This mechanism also extends to variants of the formula in terms of associativity and commutativity. Therefore, if the user creates formulas for</p>
<ul>
<li><code>A &amp; B</code></li>
<li><code>B &amp; A</code></li>
<li><code>(B &amp; A)</code></li>
</ul>
<p>all of them are represented by only one formula in memory.  This approach is only possible, because formulas in LogicNG are immutable data structures.  So once created, a formula can never be altered again.</p>
<p>In order to use the fact that formula factories avoid unnecessary formula creations, it is generally recommended to use only <em>one</em> formula factory for a certain task.</p>
<p>During this documentation, we consider the formulas <code>f1</code>, <code>f2</code> and <code>f3</code> and use the following notion of a formula factory:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">FormulaFactory</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FormulaFactory</span><span class="p">();</span>
</code></pre></div>
<h2 id="creating-formulas-with-a-formula-factory">Creating Formulas with a Formula Factory</h2>
<p>Formulas in LogicNG cannot be constructed directly but must be created by an instance of a formula factory. This factory ensures the following five invariants:</p>
<ol>
<li>A constant (<code>true</code> or <code>false</code>) cannot be an operand to any other formula, i.e. constants are automatically removed.</li>
<li>The operand of a conjunction may not be another conjunction; the same applies to disjunctions. These cases are merged in one big conjunction/disjunction.</li>
<li>The operand of a negation may only be a binary operator, an n-ary operator or a pseudo-Boolean constraint. For other operands the respective simplifications are performed.</li>
<li>An n-ary operator has unique operands.  Duplicate operands in a disjunction or conjunction are filtered.</li>
<li>Every positive literal is guaranteed to be an instance of class <code>Variable</code>.</li>
</ol>
<p>In the default configuration there is also a sixth invariant, which however can be deactivated by a configuration flag (see below):</p>
<ol>
<li>Inverse operands of an n-ary operator are simplified, this means <code>f1 &amp; ~f1</code> is parsed to <code>$false</code>, and <code>f1 | ~f1</code> is parsed to <code>$true</code>.</li>
</ol>
<p>Furthermore, some further simplifications are performed when parsing or creating formulas, such as <code>A &lt;=&gt; A</code> is equivalent to <code>$true</code>, or <code>A &lt;=&gt; ~A</code> is equivalent to <code>$false</code>.</p>
<p>While being rather easy to realize, these restrictions simplify reasoning about the structure of a formula and thus significantly reduce the number of corner cases algorithms have to face.</p>
<p>Together with the smart container function presented in the last section, the example can be extended.  Not only are formulas <code>A &amp; B</code>, <code>B &amp; A</code>, or <code>(B &amp; A)</code> represented by only one formula object in memory, but also variants like</p>
<ul>
<li><code>A &amp; A &amp; B</code></li>
<li><code>B &amp; A &amp; $true</code></li>
<li><code>(B &amp; A) &amp; B &amp; ($false | A) &amp; ($true | C)</code></li>
</ul>
<p>There are two ways to create formulas using a formula factory:</p>
<p>Firstly, one can parse a formula from a string: E.g. <code class="highlight"><span class="n">Formula</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;A &amp; B&quot;</span><span class="p">);</span></code>.</p>
<p>Secondly, one can create a formula of a certain type with the methods for formula creation in the formula factory. An overview about how to create those formulas is here:</p>
<table>
<thead>
<tr>
<th>Object</th>
<th>Factory Method</th>
<th>Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td>True</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">verum</span><span class="p">()</span></code></td>
<td><code>$true</code></td>
</tr>
<tr>
<td>False</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">falsum</span><span class="p">()</span></code></td>
<td><code>$false</code></td>
</tr>
<tr>
<td>Variable</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">)</span></code></td>
<td><code>A</code></td>
</tr>
<tr>
<td>Literal</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">literal</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span></code></td>
<td><code>~A</code></td>
</tr>
<tr>
<td>Negation</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">not</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span></code></td>
<td><code>~f1</code></td>
</tr>
<tr>
<td>Implication</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">implication</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">)</span></code></td>
<td><code>f1 =&gt; f2</code></td>
</tr>
<tr>
<td>Equivalence</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">equivalence</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">)</span></code></td>
<td><code>f1 &lt;=&gt; f2</code></td>
</tr>
<tr>
<td>Conjunction</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">and</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">f3</span><span class="p">)</span></code></td>
<td><code>f1 &amp; f2 &amp; f3</code></td>
</tr>
<tr>
<td>Disjunction</td>
<td><code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">or</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">f3</span><span class="p">)</span></code></td>
<td><code>f1 &vert; f2 &vert; f3</code></td>
</tr>
</tbody>
</table>
<p>The order of operands in the resulting formula does not follow an overall ordering but depends on the formulas created first. If a formula <code>B &amp; A</code> was created, the order of the operands will be always <code>B, A</code>. Thus, when creating another formula <code>A &amp; B</code> it will result in <code>B &amp; A</code>. If another formula <code>A &amp; B &amp; C</code> is created, the operands occur in the order <code>A, B, C</code>, since <code>A &amp; B &amp; C</code> was the first created formula.</p>
<p>It is also possible to write Pseudo-Boolean constraints, especially cardinality constraints like e.g. <code>A + B + C &lt;= 1</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">f</span><span class="p">.</span><span class="na">cc</span><span class="p">(</span><span class="n">CType</span><span class="p">.</span><span class="na">LE</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">)))</span>
</code></pre></div>
<p>which means from variables <code>A</code>, <code>B</code>, <code>C</code> can be at most one variable assigned to true.  An example for a Pseudo-Boolean constraint is <code>A + 2* ~B - 3*C = 2</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Literal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lits</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">        </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">literal</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">),</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">));</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">coeffs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">f</span><span class="p">.</span><span class="na">pbc</span><span class="p">(</span><span class="n">CType</span><span class="p">.</span><span class="na">EQ</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">lits</span><span class="p">,</span><span class="w"> </span><span class="n">coeffs</span><span class="p">);</span>
</code></pre></div>
<p>Beside the mentioned factory methods there are many convenience methods to create formulas. Examples are:</p>
<ul>
<li><code>constant(boolean value)</code> which creates a <code>$true</code> or <code>$false</code> constant depending on the given Boolean value</li>
<li><code>cnf(Formula... clauses)</code> creating a conjunctive normal form (CNF) for the given clauses</li>
<li><code>clause(Literal... literals)</code> creating a clause for the given literals</li>
<li><code>variables(Collection&lt;String&gt; names)</code> and <code>variables(String... names)</code> creating a set of variables from the given names (since <a href="https://github.com/logic-ng/LogicNG/releases/tag/v2.4.0"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.75 6.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"/><path d="M2.5 1h8.44a1.5 1.5 0 0 1 1.06.44l10.25 10.25a1.5 1.5 0 0 1 0 2.12l-8.44 8.44a1.5 1.5 0 0 1-2.12 0L1.44 12A1.497 1.497 0 0 1 1 10.94V2.5A1.5 1.5 0 0 1 2.5 1Zm0 1.5v8.44l10.25 10.25 8.44-8.44L10.94 2.5Z"/></svg></span> 2.4.0</a>)</li>
</ul>
<p>For information about properties of formulas check out the next chapter <a href="../formulas">Formulas</a>.</p>
<p>When creating a formula factory, the factory does not contain any formulas except from the constants <code>true</code> and <code>false</code>, which are always generated when creating a formula factory.</p>
<p>Another option for using a formula within a formula factory without creating it, is to import a formula from a different formula factory (see further below).</p>
<h2 id="configuring-the-formula-factory">Configuring the Formula Factory</h2>
<p>The user can configure some settings of the formula factory.  Those are given over via the <code>FormulaFactoryConfiguration</code> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/formulas/FormulaFactoryConfig.java">FormulaFactoryConfig</a>), with which the formula factory can be generated. If the formula factory is generated with no parameter, then the default formula factory configuration is chosen. The parameters that can be configured are:</p>
<ul>
<li><strong>The formula merge strategy</strong>:
  The formula merge strategy is concerned with combining formulas of different formula factories. A formula from a different factory can only be used in the current factory after importing it.  In order to avoid bugs by using formulas from different factories without importing it, the default behaviour of the formula factory is to panic and throw an exception.  This however can be changed to the import strategy - then a formula from a different factory is automatically imported.  The respective configuration flags are <code>PANIC</code>, and <code>IMPORT</code>.</li>
<li><strong>A flag, whether complementary operands shall be simplified</strong>. This is the flag whether complementary operands within a conjunction or disjunction should be simplified. For example, shall a formula like <code>A &amp; ~A</code>, <code>(A | ~A) &amp; C</code>, or <code>(A &amp; B) | ~(A &amp; B)</code> be simplified or not.  If the flag is set to <code>true</code>, these formulas will be simplified during creation to <code>$false</code>, <code>C</code>, and <code>$true</code> respectively.  If the flag is set to <code>false</code> such trivial tautologies and contradictions are not simplified but kept.</li>
<li>The <strong>string representation</strong>:  This is the default string representation of formulas when using Java's standard <code>toString()</code> method.  In LogicNG there are three default implementations:</li>
<li><a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/formulas/printer/UTF8StringRepresentation.java">UTF8StringRepresentation</a> for a UTF-8 representation with nice symbols for the operands and sub-script for indexed variables</li>
<li><a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/formulas/printer/LatexStringRepresentation.java">LatexStringRepresentation</a> for a LaTeX notation of the formulas</li>
<li><a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/formulas/printer/DefaultStringRepresentation.java">DefaultStringRepresentation</a>, which is the default string representation and outputs the formulas in the LogicNG syntax which can be parsed again by the LogicNG parsers.</li>
</ul>
<p>Consider the formula <code>A &amp; B | C</code>.  The UTF-8 representation gives the formula out as <code>A  B  C</code> and the Latex style representation as <code>A \land B \lor C</code>. The default representation is <code>A &amp; B | C</code>.</p>
<ul>
<li>the <strong>name</strong>: An optional name for the formula factory (which can be useful when using more than one formula factory at the time).  The default is the empty string <code>""</code>. Note that the name will appear in all auxiliary variables (constructed variables for CNF, PB and CC encodings) and will <em>not</em> be changed when imported to other factories.</li>
</ul>
<p>The parameters of the default configuration is summarized here:</p>
<div class="admonition note">
<p class="admonition-title">Default Configuration</p>
<p>When constructing a formula factory without configuration, the default configuration <code>FormulaFactoryConfig</code> is constructed. The settings are:</p>
<ul>
<li>name: <code>""</code></li>
<li>formula merge strategy: <code>PANIC</code></li>
<li>string representation: <code>DefaultStringRepresentation</code></li>
<li>simplify complementary operands: <code>true</code></li>
<li>ccPrefix: <code>@RESERVED_CC_</code>, pbPrefix: <code>@RESERVED_PB_</code>, cnfPrefix: <code>@RESERVED_CNF_</code></li>
</ul>
</div>
<p>In order to create a formula factory with different parameters, one can use the <code>FormulaFactoryConfig</code> builder as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">FormulaFactory</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FormulaFactory</span><span class="p">(</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="n">FormulaFactoryConfig</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="p">.</span><span class="na">formulaMergeStrategy</span><span class="p">(</span><span class="n">FormulaFactoryConfig</span><span class="p">.</span><span class="na">FormulaMergeStrategy</span><span class="p">.</span><span class="na">IMPORT</span><span class="p">)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="p">.</span><span class="na">stringRepresentation</span><span class="p">(</span><span class="n">UTF8StringRepresentation</span><span class="p">::</span><span class="k">new</span><span class="p">)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">&quot;New factory&quot;</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
</code></pre></div>
<h2 id="configuring-further-aspects-of-logicng-in-the-formula-factory">Configuring Further Aspects of LogicNG in the Formula Factory</h2>
<p>A formula factory can also hold configurations for different algorithms in LogicNG.  These algorithms can be configured when using or by putting an initial configuration in the formula factory.</p>
<p>E.g. currently the following configurations can be put on the formula factory:</p>
<ul>
<li><strong>CNF configuration</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/CNFConfig.java">CNFConfig</a>), defining the encoding procedure used to generate a CNF of a formula, e.g. when <code class="highlight"><span class="n">f1</span><span class="p">.</span><span class="na">cnf</span><span class="p">()</span></code> is called.</li>
<li><strong>Cardinality constraint configuration</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/cardinalityconstraints/CCConfig.java">CCConfig</a>), defining the encoding procedure used when a cardinality constraints is encoded, e.g. when <code class="highlight"><span class="n">f1</span><span class="p">.</span><span class="na">cc</span><span class="p">()</span></code> is called.</li>
<li><strong>Pseudo-Boolean configuration</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/pseudobooleans/PBConfig.java">PBConfig</a>),  defining the encoding procedure used when a Pseudo-Boolean constraint is encoded, e.g. when <code class="highlight"><span class="n">f1</span><span class="p">.</span><span class="na">pb</span><span class="p">()</span></code> is called.</li>
<li><strong>Formula randomizer</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/util/FormulaRandomizerConfig.java">FormulaRandomizerConfig</a>), a configuration for random formula generation, which can be a useful tool for testing.</li>
<li><strong>MUS</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/explanations/mus/MUSConfig.java">MUSConfig</a>), the configuration object for the MUS (minimal unsatisfiable set) generation.</li>
</ul>
<p>Further, one can specify parameters for the different solvers:</p>
<ul>
<li><strong>MiniSAT solver</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/solvers/sat/MiniSatConfig.java">MiniSatConfig</a>)</li>
<li><strong>MaxSAT solver</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/solvers/maxsat/algorithms/MaxSATConfig.java">MaxSATConfig</a>)</li>
<li><strong>Glucose SAT solver</strong> (see <a href="https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/solvers/sat/GlucoseConfig.java">GlucoseConfig</a>)</li>
</ul>
<p>More information about these can be found in the <a href="../solvers">chapter on solvers</a>.</p>
<p>Using <code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">putConfiguration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>, for some configuration <code>config</code>, one can put a new configuration into the configuration database. Existing configurations for this type will be overwritten. <code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">configurationFor</span><span class="p">(</span><span class="n">configType</span><span class="p">)</span></code> (for some configuration type <code>configType</code>) returns the configuration of a specific configuration type.</p>
<div class="admonition example">
<p class="admonition-title">Example: Changing a configuration of the formula factory</p>
<p>Consider the cardinality constraint</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>A + B + C &lt;= 1
</code></pre></div>
<p>Using the default cardinality constraint configuration, the cardinality constraint is encoded to:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>(~A | ~B) &amp; (~A | ~C) &amp; (~B | ~C)
</code></pre></div>
<p>However, if you'd like to encode the cardinality constraint differently, you may choose to set a different algorithm for the encoding of cardinality constraints in the formula factory.  For example, changing the formula factory's default algorithm for encoding at-most-one constraints with the LADDER encoding, one could configure the formula factory in the following way:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">CCConfig</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CCConfig</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">amoEncoding</span><span class="p">(</span><span class="n">CCConfig</span><span class="p">.</span><span class="na">AMO_ENCODER</span><span class="p">.</span><span class="na">LADDER</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">f</span><span class="p">.</span><span class="na">putConfiguration</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
</code></pre></div>
<p>The resulting cardinality constraint encoding is then, for the auxiliary variables <code>x1</code> and <code>x2</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>(~A | x1) &amp; (~B | x2) &amp; (~x1 | x2) &amp; (~B | ~x1) &amp; (~C | ~x1)
</code></pre></div></p>
</div>
<h2 id="more-methods-on-formula-factories">More Methods on Formula Factories</h2>
<p>Some more useful methods on formula factories are:</p>
<ul>
<li>Remove all formulas from the factories cache with <code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">clear</span><span class="p">()</span></code>: Use this method if you want to hold on to the "settings" of the formula factory, but get rid of all formulas created so far</li>
<li>Import a formula from another formula factory into this factory and return it: <code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">importFormula</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span></code>. If the current factory of the formula is already this formula factory (<code>f</code>), the same instance will be returned</li>
<li>Check whether a variable is a generated variable with <code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">isGeneratedVariable</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code> for some variable <code>v</code>. A variable is considered to be a generated variable (or auxiliary variable) if it was generated during a CNF, PG or cardinality constraints encoding</li>
<li>Get some statistics about the formula factory: <code class="highlight"><span class="n">f</span><span class="p">.</span><span class="na">statistics</span><span class="p">()</span></code> returns a <code>FormulaFactoryStatistics</code> which includes some relevant information about the factory, for example:<ul>
<li>The number of formulas the formula factory holds in total</li>
<li>The number of formulas the formula factory holds for each formula type</li>
</ul>
</li>
</ul>
<h2 id="caching-formulas-in-practice-and-the-extended-formula-factory">Caching Formulas in Practice and the Extended Formula Factory</h2>
<p>While caching formulas in the formula factory in most cases greatly improves heap space usage <em>and</em> performance, there are some cases where this behaviour could be undesirable. An example is an application which holds a large base rule set and there are many requests for other large formulas, which are checked against this base rule set. If the application runs in a server environment and uses one formula factory, this formula factory would potentially grow with every request. Usually this does not happen too often in practice, since in our experience, also the base rule set is something which is not static and is created with each request. However, for the described scenario, the ever-caching formula factory would be a suboptimal approach.</p>
<p>Therefore, there is an <code>ExtendedFormulaFactory</code> which extends the normal formula factory by the ability of saving and loading the state of the factory, therefore temporarily adding formulas to the factory and then removing them again. Thus, in the described scenario, one could add the base rule set and save the formula factory state. Then we add some large other formulas, perform our computations, and when we are done, we load the saved state.  By these operations, all internal data structures of the formula factory are shrunk to their length as stored in the saved state and therefore the formulas added <em>after</em> the state save are removed.  Also, for internal consistency reasons, the caches of <em>all</em> formulas are cleared.</p>
<p>The following code example shows the usage of this feature</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">ExtendedFormulaFactory</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ExtendedFormulaFactory</span><span class="p">();</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">PropositionalParser</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PropositionalParser</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1">// read and work with a large base formula</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="n">FormulaFactoryState</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">save</span><span class="p">();</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="n">p</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// (2)!</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="n">f</span><span class="p">.</span><span class="na">load</span><span class="p">(</span><span class="n">state</span><span class="p">);</span><span class="w"> </span><span class="c1">// (3)!</span>
</code></pre></div>
<ol>
<li>saves the current state</li>
<li>work with large additional formulas</li>
<li>reset the factory to the state after adding the base formula</li>
</ol>
<div class="admonition danger">
<p class="admonition-title">Formula Factories and Thread Safety</p>
<p>A formula factory has many internal data structures which are not thread safe.  Therefore, one must <em>never</em> use a single formula factory object in a multi-threaded fashion.  Different threads accessing the same formula factory at the same time can lead to concurrency exceptions, undefined behaviour, and incorrect computations.  In a multi-threaded application, each thread should have its own formula factory on which it operates.</p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; BooleWorks GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/booleworks/" target="_blank" rel="noopener" title="BooleWorks on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/booleworks" target="_blank" rel="noopener" title="BooleWorks on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tabs", "navigation.indexes", "search.highlight", "search.share", "search.suggest", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ef37796b.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>