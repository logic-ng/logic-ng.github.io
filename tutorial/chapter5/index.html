
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="LogicNG">
      
      
        <meta name="author" content="BooleWorks GmbH">
      
      
        <link rel="canonical" href="https://www.logicng.org/tutorial/chapter5/">
      
      
        <link rel="prev" href="../chapter4/">
      
      
        <link rel="next" href="../chapter6/">
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31+insiders-4.53.12">
    
    
      
        <title>Tutorial Chapter 5 - The Next Generation Logic Framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.dad623df.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="Tutorial Chapter 5 - The Next Generation Logic Framework" />
<meta property="og:description" content="LogicNG" />
<meta property="og:image" content="https://www.logicng.org/assets/images/social/tutorial/chapter5.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://www.logicng.org/tutorial/chapter5/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Tutorial Chapter 5 - The Next Generation Logic Framework" />
<meta property="twitter:description" content="LogicNG" />
<meta property="twitter:image" content="https://www.logicng.org/assets/images/social/tutorial/chapter5.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#solving-with-assumptions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
<a href="https://github.com/logic-ng/LogicNG/releases/tag/v2.4.0">LogicNG 2.4.0</a> released.

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The Next Generation Logic Framework" class="md-header__button md-logo" aria-label="The Next Generation Logic Framework" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Next Generation Logic Framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial Chapter 5
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/logic-ng/LogicNG" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    logic-ng/LogicNG
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Tutorial

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../documentation/" class="md-tabs__link">
          
  
    
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../whitepaper/abstract/" class="md-tabs__link">
          
  
    
  
  White Paper

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../legal/privacy/" class="md-tabs__link">
          
  
    
  
  Legal

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Next Generation Logic Framework" class="md-nav__button md-logo" aria-label="The Next Generation Logic Framework" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    The Next Generation Logic Framework
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/logic-ng/LogicNG" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    logic-ng/LogicNG
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Tutorial
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 1 Problem Modelling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 2 Formulas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 3 Formula Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 4 Propositions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    Chapter 5 SAT Solving
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 5 SAT Solving
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#solving-with-assumptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Solving with Assumptions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#satisfiable-vs-complete-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Satisfiable vs. Complete Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solving-with-save-and-load-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Solving with Save and Load State
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computing-the-reason-for-a-conflict" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computing the Reason for a Conflict
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computing-the-backbone" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computing the Backbone
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-counting-and-enumeration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Counting and Enumeration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Counting and Enumeration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enumerating-after-deciding-on-some-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enumerating After Deciding on Some Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projected-model-enumeration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Projected Model Enumeration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performing-functions-on-the-solver" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performing Functions on the Solver
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Chapter 6 MaxSAT Solving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../documentation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formula-factory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    The Formula Factory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../documentation/formulas/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Formulas
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Formulas
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formulas/cardinality-constraints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Cardinality Constraints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formulas/pb-constraints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Pseudo-Boolean Constraints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../documentation/formulas/operations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Formula Operations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Formula Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formulas/operations/formula-functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Formula Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formulas/operations/formula-predicates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Formula Predicates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../documentation/formulas/operations/transformations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Formula Transformations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4_4" id="__nav_3_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Formula Transformations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formulas/operations/transformations/normal-form-transformations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Normal Form Transformations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formulas/operations/transformations/simplifier-transformations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Simplifier Transformations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/formulas/operations/transformations/other-transformations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Other Transformations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/propositions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Propositions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../documentation/solvers/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Solvers
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Solvers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/solvers/sat-solving/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    SAT Solving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/solvers/maxsat-solving/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    MaxSAT Solving
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../documentation/knowledge-compilation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Knowledge Compilation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Knowledge Compilation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/knowledge-compilation/bdd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    BDD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/knowledge-compilation/dnnf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    DNNF
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/backbones/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Backbones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/model-counting-enumeration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Model Counting and Enumeration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../documentation/explanations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Explanations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Explanations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/explanations/unsat-cores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Unsat Cores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/explanations/mus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    MUS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/explanations/smus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Smallest MUS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/handlers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Handlers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/graphs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    White Paper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    White Paper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/abstract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Solving Configuration Problems with LogicNG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    The Problem
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    The Problem
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/problem/mass-customization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Mass Customization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/problem/common-configuration-problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Common Configuration Problems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    The Solutions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    The Solutions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/general-approach/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    The General Approach
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/testing-vs-reasoning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Manual Testing vs. Automated Reasoning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/computation-vs-compilation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    On-the-fly Computation vs. Compilation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/solution/decision-vs-optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Decision Problems vs. Optimization Problems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Real Solutions for Real Problems
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Real Solutions for Real Problems
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../whitepaper/real-solutions/use-cases/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Today's Use Cases
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_1" id="__nav_4_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Today's Use Cases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/high-level-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    High-Level Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/ordering-process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Ordering Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/bill-of-materials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Bill of Materials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/homologation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Homologation Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/use-cases/ecu-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    ECU Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/real-solutions/software-world/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Towards a Software-Definied World
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    References
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whitepaper/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Archive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Archive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    2022
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Legal
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Legal
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/privacy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Privacy Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/corporate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Corporate Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#solving-with-assumptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Solving with Assumptions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#satisfiable-vs-complete-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Satisfiable vs. Complete Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solving-with-save-and-load-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Solving with Save and Load State
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computing-the-reason-for-a-conflict" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computing the Reason for a Conflict
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computing-the-backbone" class="md-nav__link">
    <span class="md-ellipsis">
      
        Computing the Backbone
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-counting-and-enumeration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Counting and Enumeration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Counting and Enumeration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enumerating-after-deciding-on-some-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enumerating After Deciding on Some Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projected-model-enumeration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Projected Model Enumeration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performing-functions-on-the-solver" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performing Functions on the Solver
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Chapter 5 SAT Solving</h1>

<p>A large part of LogicNG is <a href="../../documentation/solvers/sat-solving">SAT Solving</a>. In their most basic variant, SAT Solvers can compute whether a formula is satisfiable or not.  However, there are many algorithms which can compute more complex things by iteratively calling and modifying a SAT Solver.  Also, LogicNG provides many extensions to common SAT solvers which help solving real world problems.</p>
<p>In this chapter we present five use cases for a SAT solver:</p>
<ol>
<li>Beatrice checks for the customer Sarah whether her desired configuration is satisfiable. Since it is satisfiable, she also <em>completes</em> her order.</li>
<li>Beatrice checks for the customer Clemens whether his desired configuration is buildable. Since it is not buildable, she computes the reason for it.</li>
<li>Beatrice wonders what configuration options there are, if she decides on a certain wheel size.</li>
<li>Beatrice checks how many bike configurations she can sell overall, and how many configurations exist for a common combinations of features.</li>
<li>Beatrice checks what the bike configuration with the minimum and maximum number of variables is.</li>
</ol>
<p>Along this chapter, we will cover the following related topics:</p>
<ul>
<li>The two techniques for incremental SAT solving (assumption solving and solving with save/load state)</li>
<li>The difference between a satisfiable and a complete order</li>
<li>Explanations for when the solver returns "UNSAT"</li>
<li>Backbone computation</li>
<li>Model counting and enumeration, projected model enumeration</li>
<li>Performing functions on the solver</li>
</ul>
<h2 id="solving-with-assumptions">Solving with Assumptions</h2>
<p>The first customer, a young woman called Sarah, enters the shop.  After studying the feature table shortly, she claims that she knows exactly what she wants out of a bike.  Sarah wants the carbon frame <code>f1</code> in red <code>c2</code>, the drop bar <code>h2</code>, 26-inch front wheel <code>wf26</code> and the cute ladybug bike bell <code>b3</code>.</p>
<p>"Alright, let's see what we can do", Beatrice concedes.</p>
<p>Beatrice evaluates the set of rules that she has for configuring a bike with a SAT solver.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">SATSolver</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MiniSat</span><span class="p">.</span><span class="na">miniSat</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">);</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">propositions</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">solver</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Literal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wishedFeaturesSarah</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="n">data</span><span class="p">.</span><span class="na">f1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">c2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">h2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;wf26&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">b3</span><span class="p">));</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">Tristate</span><span class="w"> </span><span class="n">sat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">sat</span><span class="p">(</span><span class="n">wishedFeaturesSarah</span><span class="p">);</span>
</code></pre></div>
<p>The result is <code>TRUE</code>, meaning that this configuration is <em>satisfiable</em>. That is, a bike with the features that Sarah requested is buildable. (We use "satisfiable" and "buildable" equivalently - Satisfiable is the mathematical term, and buildable is closer to the use case of bike configuration.)</p>
<p>However, this is <em>different</em> from saying that the requested features result in a valid bike.  Sarah's order is satisfiable, but not complete: If you tried to build a bike with the features Sarah requested, you would miss a back wheel and a saddle.</p>
<p>A complete order is always satisfiable, and a satisfiable order is complete only if all product rules evaluate to true under the given features.</p>
<h2 id="satisfiable-vs-complete-configuration">Satisfiable vs. Complete Configuration</h2>
<p>Let's check whether Sarah's order is complete. In order to do this, we first build an assignment with Sarah's wished features. All other features will then automatically be set to <code>false</code>.</p>
<p>Then, we go over each formula and check whether it is violated under the assignment.  If it is violated, then we print the rule.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">wishedFeaturesSarah</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">        </span><span class="n">data</span><span class="p">.</span><span class="na">frame</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">handlebar</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">saddle</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">frontWheel</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">        </span><span class="n">data</span><span class="p">.</span><span class="na">backWheel</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">luggageRack</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">color</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">bell</span><span class="p">));</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">Assignment</span><span class="w"> </span><span class="n">assignment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Assignment</span><span class="p">(</span><span class="n">wishedFeaturesSarah</span><span class="p">);</span><span class="w"> </span><span class="c1">// (2)!</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Formula</span><span class="o">&gt;</span><span class="w"> </span><span class="n">formulas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">propositions</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">        </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">Proposition</span><span class="p">::</span><span class="n">formula</span><span class="p">)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Formula</span><span class="w"> </span><span class="n">formula</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">formulas</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isViolated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">formula</span><span class="p">.</span><span class="na">evaluate</span><span class="p">(</span><span class="n">assignment</span><span class="p">);</span><span class="w"> </span><span class="c1">// (3)!</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isViolated</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">formula</span><span class="p">);</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="p">}</span>
</code></pre></div>
<ol>
<li>add the feature classes</li>
<li>create an assignment with the wished features</li>
<li>evaluate each formula with the given assignment</li>
</ol>
<p>The formulas which are violated under the assignment are:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>saddle &lt;=&gt; s1 | s2 | s3 | s4
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>s1 + s2 + s3 + s4 = 1
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>backWheel &lt;=&gt; wb26 | wb27 | wb29 | wb32
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>wb26 + wb27 + wb29 + wb32 = 1
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>wf26 &lt;=&gt; wb26
</code></pre></div>
<p>That makes sense. Sarah has to choose a saddle and a back wheel for the bike to result in a valid configuration! Also, back and front wheel must fit together.</p>
<p>Sarah chooses the triathlon saddle <code>s3</code> and the back wheel with the same size as the front wheel, <code>wf26</code>.
Thus, Build 'n bike sells their first bike!</p>
<p>The approach with <code class="highlight"><span class="n">solver</span><span class="p">.</span><span class="na">sat</span><span class="p">(</span><span class="n">wishedFeatures</span><span class="p">)</span></code> is called <em>assumption solving</em>, meaning the <code>wishedFeatures</code> are not actually put permanently on the solver, but the <code>sat</code>-call checks whether the formulas on the solver are satisfiable with the given assumptions.</p>
<h2 id="solving-with-save-and-load-state">Solving with Save and Load State</h2>
<p>Just a little later a middle-aged man called Clemens enters the shop. He is an experienced biker and knows what he's looking for in a bike: He also wants the carbon frame <code>f1</code>, but in blue <code>c1</code>, front wheel 28-inch <code>wf28</code>. He would also like his bike to have the "comfort" saddle <code>s2</code>. Clemens doesn't mind the other components of the bike.</p>
<p>Beatrice calls the method from above with new parameters:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Literal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wishedFeaturesClemens</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">        </span><span class="n">data</span><span class="p">.</span><span class="na">f1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">c1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">s2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;wf27&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">b2</span><span class="p">);</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">sat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">sat</span><span class="p">(</span><span class="n">wishedFeaturesClemens</span><span class="p">);</span>
</code></pre></div>
<p>However, this time, the result is <code>FALSE</code>, meaning the requested configuration is <em>not satisfiable</em>.</p>
<h2 id="computing-the-reason-for-a-conflict">Computing the Reason for a Conflict</h2>
<p>But why is it not satisfiable? Beatrice wants to find the set of propositions which explain the conflict of the order.  This set of propositions is the <a href="../../documentation/explanations/unsat-cores">Unsat Core</a> of the formula in conjunction with Clemens' order, i.e. a set of rules which formulate a contradiction together.</p>
<p>To compute the <code>UnsatCore</code>, she cannot use <em>assumption solving</em>.  Beatrice needs to put the <code>wishedFeatures</code> on the solver.  Further, the solver needs to have the flag <code>proofGeneration</code> in its configuration set to <code>true</code>.</p>
<p>The solver with its configuration and all propositions is created like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">SATSolver</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MiniSat</span><span class="p">.</span><span class="na">miniSat</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">,</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">        </span><span class="n">MiniSatConfig</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">proofGeneration</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">propositions</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">solver</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>
</code></pre></div>
<p>Since after checking Clemens' order against the rules, Beatrice perhaps wants to test another order, she saves the solver state after adding all the propositions and before adding Clemens' order:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">SolverState</span><span class="w"> </span><span class="n">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">saveState</span><span class="p">();</span>
</code></pre></div>
<p>Now she can add formulas to the solver and when she is done she can return to this saved solver state.  This functionality - adding and removing formulas from the solver - is very important in solving real problems.  Beatrice can now add Clemens' order to the solver and finally compute its unsat core.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Literal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wishedFeaturesClemens</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">        </span><span class="n">data</span><span class="p">.</span><span class="na">f1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">c1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">s2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;wf27&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">b2</span><span class="p">);</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">wishedFeaturesClemens</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">feature</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">        </span><span class="n">solver</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">StandardProposition</span><span class="p">(</span><span class="s">&quot;Order&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">feature</span><span class="p">)));</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">solver</span><span class="p">.</span><span class="na">sat</span><span class="p">();</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="n">UNSATCore</span><span class="o">&lt;</span><span class="n">Proposition</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unsatCore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">unsatCore</span><span class="p">();</span>
</code></pre></div>
<ol>
<li>the sat-call must be 'FALSE' for computing the unsat core</li>
</ol>
<p>The result that we obtain is the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>ExtendedProposition{formula=f1 + f2 + f3 = 1, backpack=MyBackpack{id=1, date=2020-01-01}}
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>ExtendedProposition{formula=~b2 | f2 | f3, backpack=MyBackpack{id=20, date=2022-01-01}}
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>StandardProposition{formula=f1, description=Order}
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>StandardProposition{formula=b2, description=Order}
</code></pre></div>
<p>Beatrice translates the findings:
The result of the <code>.unsatCore()</code> method is an unsatisfiable set of propositions:</p>
<ul>
<li><code>f1</code> has been chosen by Clemens</li>
<li><code>b2</code> has been chosen by Clemens</li>
<li><code>f1 + f2 + f3 = 1</code> with backpack <code>{id=1, date=2020-01-01}</code></li>
<li><code>~b2 | f2 | f3</code> with backpack <code>id=20, date=2022-01-01}</code></li>
</ul>
<p>That makes sense! Since Clemens wants the carbon frame <code>f1</code>, he may not choose any of <code>f2</code> or <code>f3</code>.
However, the last rule is: Either you do not take bike bell <code>b2</code>, or you take <code>f2</code> or <code>f3</code>.</p>
<p>Thus, if Clemens removed the bike bell <code>b2</code> from his configuration, it should work, right?  Beatrice checks this by resetting the solver with <code>.loadState()</code> and checking the new configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">solver</span><span class="p">.</span><span class="na">loadState</span><span class="p">(</span><span class="n">initialState</span><span class="p">);</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Literal</span><span class="o">&gt;</span><span class="w"> </span><span class="n">wishedFeaturesFixed</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">        </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">c1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">s2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;wf28&quot;</span><span class="p">));</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">solver</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">wishedFeaturesFixed</span><span class="p">);</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="n">Tristate</span><span class="w"> </span><span class="n">sat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">sat</span><span class="p">();</span>
</code></pre></div>
<p>The result now is <code>TRUE</code>, meaning this configuration is satisfiable. Note that the order may still not be complete, as explained above in the paragraph "Satisfiable vs. complete configuration".</p>
<p>Note:  The set of rules returned by <code>.unsatCore()</code> may not be minimal.  For a minimal unsatisfiable set (MUS) there are special algorithms which are described in <a href="../../documentation/explanations/mus">its own chapter</a>.</p>
<h2 id="computing-the-backbone">Computing the Backbone</h2>
<p>Beatrice wonders which features are still free to choose when she takes a certain back wheel. She starts with the biggest back wheel of size 32-inch.</p>
<p>This set of forced and forbidden variables of a formula is called the <a href="../../documentation/backbones">backbone</a> of a formula and can be computed with LogicNG (c.f. the method <code>computeBackbone()</code>).  The features which are still free to choose are the variables which are not contained in the positive or negative backbone.</p>
<p>Beatrice computes the backbone in the following way:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">MiniSat</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MiniSat</span><span class="p">.</span><span class="na">miniSat</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">);</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">propositions</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">solver</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">solver</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;wb32&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Variable</span><span class="o">&gt;</span><span class="w"> </span><span class="n">variablesInFormula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">propositions</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">        </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">proposition</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">proposition</span><span class="p">.</span><span class="na">formula</span><span class="p">().</span><span class="na">variables</span><span class="p">())</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">        </span><span class="p">.</span><span class="na">flatMap</span><span class="p">(</span><span class="n">Collection</span><span class="p">::</span><span class="n">stream</span><span class="p">)</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">        </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="n">Backbone</span><span class="w"> </span><span class="n">backbone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">backbone</span><span class="p">(</span><span class="n">variablesInFormula</span><span class="p">);</span>
</code></pre></div>
<ol>
<li>restricting the backbone to wb32</li>
</ol>
<p>The result is:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>Positive: [backWheel, color, f3, frame, frontWheel, handlebar, luggageRack,
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>           saddle, wb32, wf32]
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Negative: [f1, f2, h5, r1, r2, r3, wb26, wb27, wb29, wf24, wf26, wf27, wf29]
</code></pre></div>
<p>Beatrice translates the output. In a bike with a back wheel of size 32-inch,
- the following features have to be contained:
  - The feature classes <code>backWheel</code>, <code>color</code>, <code>frame</code>, <code>frontWheel</code>, <code>handlebar</code>, <code>luggageRack</code> and <code>saddle</code> have to be present in any bike.
  - Further, the features <code>f3</code> and <code>wf32</code> have to be present with the given restriction. She recalls that the rules <code>wf32 &lt;=&gt; wb32</code> and <code>wf32 =&gt; f3</code> are responsible for this.
- the following features can never be contained in any configuration: Frame <code>f1</code> or <code>f2</code>, the aero bar <code>h5</code>, luggage rack <code>r1</code>, <code>r2</code> or <code>r3</code>, the other front and back wheels.
- all other features are optional, meaning there are configurations with and without them</p>
<h2 id="model-counting-and-enumeration">Model Counting and Enumeration</h2>
<p>Beatrice would like to know how many different bikes she can sell, and what they are.  <em>Model counting</em> answers how many different bike configurations there are, and <em>model enumeration</em> answers what these models are.  Check out the <a href="../../documentation/model-counting-enumeration">relevant chapter</a> in the documentation.</p>
<p>As a simple example, consider</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">SATSolver</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MiniSat</span><span class="p">.</span><span class="na">miniSat</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">);</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">propositions</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">solver</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">solver</span><span class="p">.</span><span class="na">sat</span><span class="p">();</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="n">Assignment</span><span class="w"> </span><span class="n">aModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">model</span><span class="p">();</span><span class="w"> </span><span class="c1">// (2)!</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Assignment</span><span class="o">&gt;</span><span class="w"> </span><span class="n">allModels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">enumerateAllModels</span><span class="p">();</span><span class="w"> </span><span class="c1">// (3)!</span>
</code></pre></div>
<ol>
<li>the sat problem has to be solved before enumerating models</li>
<li>give out one model</li>
<li>return all models</li>
</ol>
<p>With the call to <code class="highlight"><span class="n">solver</span><span class="p">.</span><span class="na">model</span><span class="p">()</span></code> one can find one assignment for the formulas. For example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Assignment{
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>  pos=[b1, backWheel, bell, c4, color, f3, frame, frontWheel, h1, handlebar,
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>       luggageRack, s1, saddle, wb26, wf26],
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>  neg=[~b2, ~b3, ~c1, ~c2, ~f1, ~f2, ~h2, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3, ~s2,
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>       ~s3, ~s4, ~wb27, ~wb29, ~wb32, ~wf24, ~wf27, ~wf29, ~wf32]
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>}
</code></pre></div>
<p>With the call to <code class="highlight"><span class="n">solver</span><span class="p">.</span><span class="na">enumerateAllModels</span><span class="p">()</span></code> one finds <em>all</em> possible models, that is, in this example, all complete bike configurations.  The models distinguish in all sorts of features, for example whether they have a bike bell or not, which color they have, which saddle and which size of front and back wheel they have. Then <code class="highlight"><span class="n">allModels</span><span class="p">.</span><span class="na">size</span><span class="p">()</span></code> returns <code>1650</code>. That is, there are 1650 possible assignments for the formulas, or in our case, configurations for a bike. Beatrice can sell 1650 different bike configurations!</p>
<h3 id="enumerating-after-deciding-on-some-features">Enumerating After Deciding on Some Features</h3>
<p>Next, Beatrice knows that a certain combination of features is quite popular: color blue, wheel size 27.5-inch, carbon frame and ladybug bike bell.  The fitting handlebar and saddle, however, differ with every buy.  Beatrice would like to know how many different models there are with those features.  For this, she first adds the relevant features to the solver.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">SATSolver</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MiniSat</span><span class="p">.</span><span class="na">miniSat</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">);</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">propositions</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">solver</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="n">solver</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">.</span><span class="na">variable</span><span class="p">(</span><span class="s">&quot;wf27&quot;</span><span class="p">));</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="n">solver</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f1</span><span class="p">);</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="n">solver</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">b3</span><span class="p">);</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="n">solver</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">c1</span><span class="p">);</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="n">solver</span><span class="p">.</span><span class="na">sat</span><span class="p">();</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Assignment</span><span class="o">&gt;</span><span class="w"> </span><span class="n">models</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">enumerateAllModels</span><span class="p">();</span>
</code></pre></div>
<p>Then <code class="highlight"><span class="n">models</span><span class="p">.</span><span class="na">size</span><span class="p">()</span></code> returns <code>9</code>, meaning that there are 9 configurations possible with these restrictions. This is a dealable size, so we can print the models:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h1, handlebar, luggageRack, s2, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h2, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3, ~s1, ~s3, ~s4, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h1, handlebar, luggageRack, s3, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h2, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3, ~s1, ~s2, ~s4, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h4, handlebar, luggageRack, s3, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h1, ~h2, ~h3, ~h5, ~r1, ~r2, ~r3, ~s1, ~s2, ~s4, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h2, handlebar, luggageRack, s3, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h1, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3, ~s1, ~s2, ~s4, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h2, handlebar, luggageRack, s4, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h1, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3, ~s1, ~s2, ~s3, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h2, handlebar, luggageRack, s2, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h1, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3, ~s1, ~s3, ~s4, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h4, handlebar, luggageRack, s2, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h1, ~h2, ~h3, ~h5, ~r1, ~r2, ~r3, ~s1, ~s3, ~s4, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h1, handlebar, luggageRack, s4, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h2, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3, ~s1, ~s2, ~s3, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>Assignment{pos=[b3, backWheel, bell, c1, color, f1, frame, frontWheel, h4, handlebar, luggageRack, s4, saddle, wb27, wf27], neg=[~b1, ~b2, ~c2, ~c4, ~f2, ~f3, ~h1, ~h2, ~h3, ~h5, ~r1, ~r2, ~r3, ~s1, ~s2, ~s3, ~wb26, ~wb29, ~wb32, ~wf24, ~wf26, ~wf29, ~wf32]}
</code></pre></div>
<h3 id="projected-model-enumeration">Projected Model Enumeration</h3>
<p>The valid configurations distinguish only in their handlebars and saddles, because Beatrice has already decided on all other features (frame, color, wheel size, color).  One can also only enumerate over the features of interest.  For example Beatrice is now only interested which different saddles she can sell with the above configuration.  This is called <em>projected model enumeration</em>.  For this, Beatrice gives the method <code>enumerateAllModels()</code> a collection of variables over which the enumeration should be performed - in this case only the saddles.  The solver is the one defined above, with some features already added.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Variable</span><span class="o">&gt;</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">s1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">s2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">s3</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">s4</span><span class="p">);</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Assignment</span><span class="o">&gt;</span><span class="w"> </span><span class="n">modelsProjected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">enumerateAllModels</span><span class="p">(</span><span class="n">variables</span><span class="p">);</span>
</code></pre></div>
<ol>
<li>all possible saddles</li>
</ol>
<p>The result is:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>Assignment{pos=[s4], neg=[~s1, ~s2, ~s3]}
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>Assignment{pos=[s2], neg=[~s1, ~s3, ~s4]}
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>Assignment{pos=[s3], neg=[~s1, ~s2, ~s4]}
</code></pre></div>
<p>Thus, there are 3 configuration options for the saddle for bikes in blue, with wheel size 27.5-inch, carbon frame and ladybug bike bell. They are:
- <code>s2</code>
- <code>s3</code>
- <code>s4</code>
And saddle <code>s1</code> is never buildable with this configuration.</p>
<h2 id="performing-functions-on-the-solver">Performing Functions on the Solver</h2>
<p>Beatrice is curious about what the minimum and maximum number of features for a bike is.
In order to find out, she executes an <code>OptimizationFunction</code> on the solver.  This function can be called with the <code>.minimize()</code> or <code>.maximize()</code> option.  For the minimum number of features in any configuration, she chooses the minimize function, and for the maximum number of features she chooses the maximize function.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">SATSolver</span><span class="w"> </span><span class="n">solver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MiniSat</span><span class="p">.</span><span class="na">miniSat</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="na">f</span><span class="p">);</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">propositions</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">solver</span><span class="p">::</span><span class="n">add</span><span class="p">);</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">SortedSet</span><span class="o">&lt;</span><span class="n">Variable</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">propositions</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span><span class="w"> </span><span class="c1">// (1)!</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">        </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">formula</span><span class="p">().</span><span class="na">variables</span><span class="p">())</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">        </span><span class="p">.</span><span class="na">flatMap</span><span class="p">(</span><span class="n">Collection</span><span class="p">::</span><span class="n">stream</span><span class="p">)</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">        </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">!</span><span class="n">data</span><span class="p">.</span><span class="na">featureClasses</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">        </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toCollection</span><span class="p">(</span><span class="n">TreeSet</span><span class="p">::</span><span class="k">new</span><span class="p">));</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="n">Assignment</span><span class="w"> </span><span class="n">bikeWithMinNumberOfFeatures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">        </span><span class="n">OptimizationFunction</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">literals</span><span class="p">(</span><span class="n">vars</span><span class="p">).</span><span class="na">minimize</span><span class="p">().</span><span class="na">build</span><span class="p">());</span>
</code></pre></div>
<ol>
<li>all relevant features (without feature classes)</li>
</ol>
<p>The result is</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Assignment{
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>  pos=[c4, f3, h1, s4, wb32, wf32],
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>  neg=[~b1, ~b2, ~b3, ~c1, ~c2, ~f1, ~f2, ~h2, ~h3, ~h4, ~h5, ~r1, ~r2, ~r3,
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>       ~s1, ~s2, ~s3, ~wb26, ~wb27, ~wb29, ~wf24, ~wf26, ~wf27, ~wf29]
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>}
</code></pre></div>
<p>meaning that the following features have to be taken: <code>c4</code>, <code>f3</code>, <code>h1</code>, <code>s4</code>, <code>wb32</code>, <code>wf32</code> and therefore 6 features are the minimum.  There may be other configurations with the minimum number of features (6), but not a configuration with less than 6 features.  To compute the maximum number of features, Beatrice can just use the <code>.maximize()</code> function</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">Assignment</span><span class="w"> </span><span class="n">bikeWithMaxNumberOfFeatures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solver</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">        </span><span class="n">OptimizationFunction</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">literals</span><span class="p">(</span><span class="n">vars</span><span class="p">).</span><span class="na">maximize</span><span class="p">().</span><span class="na">build</span><span class="p">());</span>
</code></pre></div>
<p>and gets a configuration with 7 positive variables.</p>
<p>Another option to finding the bike with the minimum number of components is using a <a href="../../documentation/solvers/maxsat-solving">MaxSATSolver</a>, as you will find out in the next chapter.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; BooleWorks GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/booleworks/" target="_blank" rel="noopener" title="BooleWorks on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/booleworks" target="_blank" rel="noopener" title="BooleWorks on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tabs", "navigation.indexes", "search.highlight", "search.share", "search.suggest", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ef37796b.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>